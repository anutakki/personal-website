$(function(){function e(){switch(k){case 12:case 1:case 2:u=0;break;case 3:case 4:case 5:u=1;break;case 6:case 7:case 8:u=2;break;case 9:case 10:case 11:u=3}}function t(){switch(!0){case d.wind<=F.calm:w="calm";break;case F.calm<d.wind&&d.wind<=F.strong:w="strong";break;case F.danger<d.wind:w="danger"}}function i(){T=Y[u].msg1,N=Y[u].low,O=Y[u].msg2,A=Y[u].high,B=Y[u].msg3}function o(){"calm"===w?(f=d.tempC,y=d.tempF):(y=d.windChill,f=5*(y-32)/9)}function n(){switch(!0){case N>=f:p=T;break;case f>N&&A>=f:p=O;break;case f>A:p=B}}function c(e,t){D.eq(e).children().text(t)}function a(e,t){q.eq(e).children().text(t)}function s(){E=E!==!0,E?M.slideDown(500):M.slideUp(500)}function l(){I=I!==!0;var e=500;G.fadeTo(0,0),I?(c(1,f+" °C"),c(2,Math.floor(1.61*d.wind)+" km/h "+w),a(0,"range "+d.lowC+" ~ "+d.highC+" °C"),a(3,d.tmrlowC+" ~ "+d.tmrhighC+" °C")):(c(1,y+" °F"),c(2,d.wind+" mph "+w),a(0,"range "+d.lowF+" ~ "+d.highF+" °F"),a(3,d.tmrlowF+" ~ "+d.tmrhighF+" °F")),G.fadeTo(e,1)}function r(){c(3,d.currently),c(4,d.city+" "+d.region),a(1,"sunset "+d.sunset),a(4,d.tmrtext),l()}function h(){e(),t(),o(),i(),n(),c(0,p)}function g(){I=!1,h(),r(),$("div#summaryBox").on("click",l),$("#detailBox").on("click",s)}function m(e){$.simpleWeather({location:e,unit:"f",success:function(e){d={tempF:e.temp,lowF:e.low,highF:e.high,tempC:e.alt.temp,lowC:e.alt.low,highC:e.alt.high,wind:e.wind.speed,windChill:e.wind.chill,currently:e.currently,city:e.city,region:e.region,sunset:e.sunset,tmrtext:e.forecast[1].text,tmrlowF:e.forecast[1].low,tmrhighF:e.forecast[1].high,tmrlowC:e.forecast[1].alt.low,tmrhighC:e.forecast[1].alt.high},g()},error:function(e){$("#weather").html("<p>"+e+"</p>")}})}document.getElementsByTagName("body")[0].style.visibility="visible";var d,u,w,f,y,p,C=new Date,k=C.getMonth()+1,F={calm:5,strong:20,danger:30},b,v,x,S;b={msg1:"STAY. IN.",low:-8,msg2:"Okay...",high:0,msg3:"YASSS! WARMTH!"},v={msg1:"Nope. So cold.",low:5,msg2:"Okay, a bit chilly.",high:15,msg3:"Oh Yesss!"},x={msg1:"Yeah, lil chilly.",low:18,msg2:"Yes! Go Go Go!",high:26,msg3:"Nope. Scorching-hot."},S={msg1:"Erm, kinda cold",low:11,msg2:"Okay, lil chilly",high:16,msg3:"Yes, go enjoy."};var Y;Y=[b,v,x,S];var T,N,O,A,B,D=$("ul#weatherSummary").children(),G=D.slice(1,3),M=$("ul#hiddenDetail");M.hide();var q=M.children(),E=!1,I=!1,W;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){W=e.coords.latitude+","+e.coords.longitude,m(W)}):c(0,":( Your browser doesn't support geolocation"),setInterval(function(){m(W)},3e5)});